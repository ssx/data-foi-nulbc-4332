(function(e){function o(e,n){return i||(i=new t.clustering.ClusterProvider(e,{eps:n.eps||16,minPts:1,dataPoints:[]})),i}var t,n,r,i,s={};s.is=!1,s.load=function(){return s.is&&s.is.state().match(/pending|resolved/)?this:(s.is=e.Deferred(),nokia.Features.load({clustering:"auto"},function(){s.is.resolve()}),this)},n=function(n,r){var i,u=this;t=t||nokia.maps,s.load().is.done(function(){r=r||{},i=o(u.map,r),e.isArray(n)||(n=[n]),i.addAll(n),i.cluster()})},r=function(e,n){var r,i=this;t=t||nokia.maps,s.load().is.done(function(){r=o(i.map,n),r.clean()})},e.jHERE.extend("cluster",n),e.jHERE.extend("nocluster",r)})(jQuery);