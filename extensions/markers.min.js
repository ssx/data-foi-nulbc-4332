(function(e){function v(e){var t=e.target,n=t[e.type];g(n)&&n.call(this.element,m(e,t.coordinate))}function m(t,n){return e.Event(t.type,{originalEvent:t,geo:{latitude:n.latitude,longitude:n.longitude},target:t.target})}function g(e){return typeof e=="function"}var t,n,r,i,s={text:"",textColor:"#333333",fill:"#ff6347",stroke:"#333333",shape:"balloon",icon:undefined,group:"_"},o=e.proxy,u="mouse",a="click",f="drag",l="touch",c="start",h="end",p="move",d=[a,"dbl"+a,u+"up",u+"down",u+p,u+"over",u+"out",u+"enter",u+"leave","longpress",f+c,f,f+h,"resize",l+c,l+h,l+p];n=function(n,r){var i={},u=o(v,this),a=this._mc,f="Marker",l,c;this.groups=this.groups||{},c=this.groups,t=t||nokia.maps,e.each(d,function(e,t){i[t]=[u,!1,null]}),r=e.extend({},s,r),r.textPen=r.textPen||{strokeColor:r.textColor},r.pen=r.pen||{strokeColor:r.stroke},r.brush=r.brush||{color:r.fill},r.eventListener=i,r.icon||(f="Standard"+f),l=new t.map[f](n,r),c[r.group]=c[r.group]||[],c[r.group].visible=c[r.group].length===0?!0:c[r.group].visible,c[r.group].push(l),c[r.group].visible&&a.objects.add(l)},i=function(t,n){var r=this._mc,i=r.objects,s;this.groups=this.groups||{},s=this.groups,t=t instanceof Array?t:[t],e.each(t,function(e,t){n?i.addAll(s[t]||[]):i.removeAll(s[t]||[]),s[t].visible=!!n})},r=function(){this._mc.objects.clear(),this.groups={}},e.jHERE.extend("marker",n),e.jHERE.extend("markergroups",i),e.jHERE.extend("nomarkers",r)})(jQuery);