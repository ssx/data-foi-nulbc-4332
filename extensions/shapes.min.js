(function(e){function f(e){return e instanceof Array?{latitude:e[0],longitude:e[1]}:e}function l(e){return e?(e.pen=e.pen||{},e.brush=e.brush||{},e.pen.strokeColor=e.pen.strokeColor||e.stroke||"#111",e.stroke="solid",e.pen.lineWidth=e.pen.lineWidth||e.thickness||1,e.brush.color=e.brush.color||e.fill,e):e}function c(e,n){e.objects.add(new t.map.Circle(f(n.center),n.radius||1e3,n.style))}function h(e,n){var r=new t.geo.BoundingBox(f(n.topLeft),f(n.bottomRight),!1);e.objects.add(new t.map.Rectangle(r,n.style))}function p(n,r){r.points=e.map(r.points,function(e){return f(e)}),n.objects.add(new t.map.Polyline(r.points,r.style))}function d(n,r){r.points=e.map(r.points,function(e){return f(e)}),n.objects.add(new t.map.Polygon(r.points,r.style))}var t,n,r,i,s,o,u,a;n=function(n,r){t=t||nokia.maps,a||(a=new t.map.Container,this.map.objects.add(a)),r.style=l(r.style);switch(n){case"circle":c(a,r);break;case"rectangle":h(a,r);break;case"polyline":p(a,r);break;case"polygon":d(a,r);break;default:e.error(n+" not supported")}},r=function(){a&&a.objects&&a.objects.clear()},i=function(e){n.call(this,"circle",e)},s=function(e){n.call(this,"rectangle",e)},o=function(e){n.call(this,"polyline",e)},u=function(e){n.call(this,"polygon",e)},e.jHERE.extend("shape",n),e.jHERE.extend("clearShapes",r),e.jHERE.extend("circle",i),e.jHERE.extend("rectangle",s),e.jHERE.extend("polyline",o),e.jHERE.extend("polygon",u)})(jQuery);